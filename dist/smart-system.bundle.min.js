(()=>{"use strict";var e={34:(e,t,n)=>{var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},81:(e,t,n)=>{var r=n(9565),i=n(9306),s=n(8551),a=n(6823),o=n(851),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?o(e):t;if(i(n))return s(r(n,e));throw new l(a(e)+" is not iterable")}},283:(e,t,n)=>{var r=n(9504),i=n(9039),s=n(4901),a=n(9297),o=n(3724),l=n(350).CONFIGURABLE,u=n(3706),c=n(1181),d=c.enforce,h=c.get,f=String,p=Object.defineProperty,g=r("".slice),y=r("".replace),v=r([].join),m=o&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),E=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===g(f(t),0,7)&&(t="["+y(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(o?p(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&a(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=v(E,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return s(this)&&h(this).source||u(this)}),"toString")},298:(e,t,n)=>{var r=n(2195),i=n(5397),s=n(8480).f,a=n(7680),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"Window"===r(e)?function(e){try{return s(e)}catch(e){return a(o)}}(e):s(i(e))}},350:(e,t,n)=>{var r=n(3724),i=n(9297),s=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=i(s,"name"),l=o&&"something"===function(){}.name,u=o&&(!r||r&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:u}},397:(e,t,n)=>{var r=n(7751);e.exports=r("document","documentElement")},421:e=>{e.exports={}},507:(e,t,n)=>{var r=n(9565);e.exports=function(e,t,n){for(var i,s,a=n?e:e.iterator,o=e.next;!(i=r(o,a)).done;)if(void 0!==(s=t(i.value)))return s}},616:(e,t,n)=>{var r=n(9039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},679:(e,t,n)=>{var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},687:(e,t,n)=>{var r=n(4913).f,i=n(9297),s=n(8227)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},741:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},757:(e,t,n)=>{var r=n(7751),i=n(4901),s=n(1625),a=n(7040),o=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&s(t.prototype,o(e))}},851:(e,t,n)=>{var r=n(6955),i=n(5966),s=n(4117),a=n(6269),o=n(8227)("iterator");e.exports=function(e){if(!s(e))return i(e,o)||i(e,"@@iterator")||a[r(e)]}},1072:(e,t,n)=>{var r=n(1828),i=n(8727);e.exports=Object.keys||function(e){return r(e,i)}},1088:(e,t,n)=>{var r=n(6518),i=n(9565),s=n(6395),a=n(350),o=n(4901),l=n(3994),u=n(2787),c=n(2967),d=n(687),h=n(6699),f=n(6840),p=n(8227),g=n(6269),y=n(7657),v=a.PROPER,m=a.CONFIGURABLE,E=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,S=p("iterator"),b="keys",w="values",M="entries",V=function(){return this};e.exports=function(e,t,n,a,p,y,x){l(n,t,a);var C,T,F,L=function(e){if(e===p&&K)return K;if(!_&&e&&e in I)return I[e];switch(e){case b:case w:case M:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",O=!1,I=e.prototype,k=I[S]||I["@@iterator"]||p&&I[p],K=!_&&k||L(p),j="Array"===t&&I.entries||k;if(j&&(C=u(j.call(new e)))!==Object.prototype&&C.next&&(s||u(C)===E||(c?c(C,E):o(C[S])||f(C,S,V)),d(C,A,!0,!0),s&&(g[A]=V)),v&&p===w&&k&&k.name!==w&&(!s&&m?h(I,"name",w):(O=!0,K=function(){return i(k,this)})),p)if(T={values:L(w),keys:y?K:L(b),entries:L(M)},x)for(F in T)(_||O||!(F in I))&&f(I,F,T[F]);else r({target:t,proto:!0,forced:_||O},T);return s&&!x||I[S]===K||f(I,S,K,{name:p}),g[t]=K,T}},1181:(e,t,n)=>{var r,i,s,a=n(8622),o=n(4576),l=n(34),u=n(6699),c=n(9297),d=n(7629),h=n(6119),f=n(421),p="Object already initialized",g=o.TypeError,y=o.WeakMap;if(a||d.state){var v=d.state||(d.state=new y);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw new g(p);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},s=function(e){return v.has(e)}}else{var m=h("state");f[m]=!0,r=function(e,t){if(c(e,m))throw new g(p);return t.facade=e,u(e,m,t),t},i=function(e){return c(e,m)?e[m]:{}},s=function(e){return c(e,m)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return n}}}},1291:(e,t,n)=>{var r=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},1415:(e,t,n)=>{n(2405)},1625:(e,t,n)=>{var r=n(9504);e.exports=r({}.isPrototypeOf)},1767:e=>{e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1828:(e,t,n)=>{var r=n(9504),i=n(9297),s=n(5397),a=n(9617).indexOf,o=n(421),l=r([].push);e.exports=function(e,t){var n,r=s(e),u=0,c=[];for(n in r)!i(o,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(c,n)||l(c,n));return c}},2106:(e,t,n)=>{var r=n(283),i=n(4913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},2140:(e,t,n)=>{var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},2195:(e,t,n)=>{var r=n(9504),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},2211:(e,t,n)=>{var r=n(9039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2360:(e,t,n)=>{var r,i=n(8551),s=n(6801),a=n(8727),o=n(421),l=n(397),u=n(4055),c=n(6119),d="prototype",h="script",f=c("IE_PROTO"),p=function(){},g=function(e){return"<"+h+">"+e+"</"+h+">"},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&r?y(r):(t=u("iframe"),n="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):y(r);for(var i=a.length;i--;)delete v[d][a[i]];return v()};o[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[d]=i(e),n=new p,p[d]=null,n[f]=e):n=v(),void 0===t?n:s.f(n,t)}},2405:(e,t,n)=>{n(6468)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(6938))},2529:e=>{e.exports=function(e,t){return{value:e,done:t}}},2652:(e,t,n)=>{var r=n(6080),i=n(9565),s=n(8551),a=n(6823),o=n(4209),l=n(6198),u=n(1625),c=n(81),d=n(851),h=n(9539),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,n){var y,v,m,E,_,S,b,w=n&&n.that,M=!(!n||!n.AS_ENTRIES),V=!(!n||!n.IS_RECORD),x=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),T=r(t,w),F=function(e){return y&&h(y,"normal",e),new p(!0,e)},L=function(e){return M?(s(e),C?T(e[0],e[1],F):T(e[0],e[1])):C?T(e,F):T(e)};if(V)y=e.iterator;else if(x)y=e;else{if(!(v=d(e)))throw new f(a(e)+" is not iterable");if(o(v)){for(m=0,E=l(e);E>m;m++)if((_=L(e[m]))&&u(g,_))return _;return new p(!1)}y=c(e,v)}for(S=V?e.next:y.next;!(b=i(S,y)).done;){try{_=L(b.value)}catch(e){h(y,"throw",e)}if("object"==typeof _&&_&&u(g,_))return _}return new p(!1)}},2744:(e,t,n)=>{var r=n(9039);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2777:(e,t,n)=>{var r=n(9565),i=n(34),s=n(757),a=n(5966),o=n(4270),l=n(8227),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||s(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||s(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},2787:(e,t,n)=>{var r=n(9297),i=n(4901),s=n(8981),a=n(6119),o=n(2211),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=o?u.getPrototypeOf:function(e){var t=s(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},2796:(e,t,n)=>{var r=n(9039),i=n(4901),s=/#|\.prototype\./,a=function(e,t){var n=l[o(e)];return n===c||n!==u&&(i(t)?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},2839:(e,t,n)=>{var r=n(4576).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},2967:(e,t,n)=>{var r=n(6706),i=n(34),s=n(7750),a=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return s(n),a(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},3167:(e,t,n)=>{var r=n(4901),i=n(34),s=n(2967);e.exports=function(e,t,n){var a,o;return s&&r(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&s(e,o),e}},3392:(e,t,n)=>{var r=n(9504),i=0,s=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+s,36)}},3451:(e,t,n)=>{var r=n(6518),i=n(9504),s=n(421),a=n(34),o=n(9297),l=n(4913).f,u=n(8480),c=n(298),d=n(4124),h=n(3392),f=n(2744),p=!1,g=h("meta"),y=0,v=function(e){l(e,g,{value:{objectID:"O"+y++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},p=!0;var e=u.f,t=i([].splice),n={};n[g]=1,e(n).length&&(u.f=function(n){for(var r=e(n),i=0,s=r.length;i<s;i++)if(r[i]===g){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,g)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!o(e,g)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return f&&p&&d(e)&&!o(e,g)&&v(e),e}};s[g]=!0},3506:(e,t,n)=>{var r=n(3925),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s("Can't set "+i(e)+" as a prototype")}},3706:(e,t,n)=>{var r=n(9504),i=n(4901),s=n(7629),a=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},3717:(e,t)=>{t.f=Object.getOwnPropertySymbols},3724:(e,t,n)=>{var r=n(9039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3789:(e,t,n)=>{var r=n(9306),i=n(8551),s=n(9565),a=n(1291),o=n(1767),l="Invalid size",u=RangeError,c=TypeError,d=Math.max,h=function(e,t){this.set=e,this.size=d(t,0),this.has=r(e.has),this.keys=r(e.keys)};h.prototype={getIterator:function(){return o(i(s(this.keys,this.set)))},includes:function(e){return s(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new c(l);var n=a(t);if(n<0)throw new u(l);return new h(e,n)}},3925:(e,t,n)=>{var r=n(34);e.exports=function(e){return r(e)||null===e}},3994:(e,t,n)=>{var r=n(7657).IteratorPrototype,i=n(2360),s=n(6980),a=n(687),o=n(6269),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:s(+!u,n)}),a(e,c,!1,!0),o[c]=l,e}},4055:(e,t,n)=>{var r=n(4576),i=n(34),s=r.document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},4117:e=>{e.exports=function(e){return null==e}},4124:(e,t,n)=>{var r=n(9039),i=n(34),s=n(2195),a=n(5652),o=Object.isExtensible,l=r((function(){o(1)}));e.exports=l||a?function(e){return!!i(e)&&(!a||"ArrayBuffer"!==s(e))&&(!o||o(e))}:o},4209:(e,t,n)=>{var r=n(8227),i=n(6269),s=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[s]===e)}},4270:(e,t,n)=>{var r=n(9565),i=n(4901),s=n(34),a=TypeError;e.exports=function(e,t){var n,o;if("string"===t&&i(n=e.toString)&&!s(o=r(n,e)))return o;if(i(n=e.valueOf)&&!s(o=r(n,e)))return o;if("string"!==t&&i(n=e.toString)&&!s(o=r(n,e)))return o;throw new a("Can't convert object to primitive value")}},4402:(e,t,n)=>{var r=n(9504),i=Set.prototype;e.exports={Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},4428:(e,t,n)=>{var r=n(8227)("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},4495:(e,t,n)=>{var r=n(9519),i=n(9039),s=n(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},4576:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4901:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4913:(e,t,n)=>{var r=n(3724),i=n(5917),s=n(8686),a=n(8551),o=n(6969),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?s?function(e,t,n){if(a(e),t=o(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=c(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=o(t),a(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},4916:(e,t,n)=>{var r=n(7751),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},s=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var n=r("Set");try{(new n)[e](i(0));try{return(new n)[e](i(-1)),!1}catch(r){if(!t)return!0;try{return(new n)[e](s(-1/0)),!1}catch(r){var a=new n;return a.add(1),a.add(2),t(a[e](s(1/0)))}}}catch(e){return!1}}},5031:(e,t,n)=>{var r=n(7751),i=n(9504),s=n(8480),a=n(3717),o=n(8551),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(o(e)),n=a.f;return n?l(t,n(e)):t}},5170:(e,t,n)=>{var r=n(6706),i=n(4402);e.exports=r(i.proto,"size","get")||function(e){return e.size}},5397:(e,t,n)=>{var r=n(7055),i=n(7750);e.exports=function(e){return r(i(e))}},5610:(e,t,n)=>{var r=n(1291),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},5652:(e,t,n)=>{var r=n(9039);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},5745:(e,t,n)=>{var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},5917:(e,t,n)=>{var r=n(3724),i=n(9039),s=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},5966:(e,t,n)=>{var r=n(9306),i=n(4117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},6080:(e,t,n)=>{var r=n(7476),i=n(9306),s=n(616),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:s?a(e,t):function(){return e.apply(t,arguments)}}},6119:(e,t,n)=>{var r=n(5745),i=n(3392),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},6198:(e,t,n)=>{var r=n(8014);e.exports=function(e){return r(e.length)}},6269:e=>{e.exports={}},6279:(e,t,n)=>{var r=n(6840);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},6395:e=>{e.exports=!1},6468:(e,t,n)=>{var r=n(6518),i=n(4576),s=n(9504),a=n(2796),o=n(6840),l=n(3451),u=n(2652),c=n(679),d=n(4901),h=n(4117),f=n(34),p=n(9039),g=n(4428),y=n(687),v=n(3167);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),E=-1!==e.indexOf("Weak"),_=m?"set":"add",S=i[e],b=S&&S.prototype,w=S,M={},V=function(e){var t=s(b[e]);o(b,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(E&&!f(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return E&&!f(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(E&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(S)||!(E||b.forEach&&!p((function(){(new S).entries().next()})))))w=n.getConstructor(t,e,m,_),l.enable();else if(a(e,!0)){var x=new w,C=x[_](E?{}:-0,1)!==x,T=p((function(){x.has(1)})),F=g((function(e){new S(e)})),L=!E&&p((function(){for(var e=new S,t=5;t--;)e[_](t,t);return!e.has(-0)}));F||((w=t((function(e,t){c(e,b);var n=v(new S,e,w);return h(t)||u(t,n[_],{that:n,AS_ENTRIES:m}),n}))).prototype=b,b.constructor=w),(T||L)&&(V("delete"),V("has"),m&&V("get")),(L||C)&&V(_),E&&b.clear&&delete b.clear}return M[e]=w,r({global:!0,constructor:!0,forced:w!==S},M),y(w,e),E||n.setStrong(w,e,m),w}},6518:(e,t,n)=>{var r=n(4576),i=n(7347).f,s=n(6699),a=n(6840),o=n(9433),l=n(7740),u=n(2796);e.exports=function(e,t){var n,c,d,h,f,p=e.target,g=e.global,y=e.stat;if(n=g?r:y?r[p]||o(p,{}):r[p]&&r[p].prototype)for(c in t){if(h=t[c],d=e.dontCallGetSet?(f=i(n,c))&&f.value:n[c],!u(g?c:p+(y?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&s(h,"sham",!0),a(n,c,h,e)}}},6699:(e,t,n)=>{var r=n(3724),i=n(4913),s=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},6706:(e,t,n)=>{var r=n(9504),i=n(9306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6801:(e,t,n)=>{var r=n(3724),i=n(8686),s=n(4913),a=n(8551),o=n(5397),l=n(1072);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),i=l(t),u=i.length,c=0;u>c;)s.f(e,n=i[c++],r[n]);return e}},6823:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6840:(e,t,n)=>{var r=n(4901),i=n(4913),s=n(283),a=n(9433);e.exports=function(e,t,n,o){o||(o={});var l=o.enumerable,u=void 0!==o.name?o.name:t;if(r(n)&&s(n,u,o),o.global)l?e[t]=n:a(t,n);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},6938:(e,t,n)=>{var r=n(2360),i=n(2106),s=n(6279),a=n(6080),o=n(679),l=n(4117),u=n(2652),c=n(1088),d=n(2529),h=n(7633),f=n(3724),p=n(3451).fastKey,g=n(1181),y=g.set,v=g.getterFor;e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,i){o(e,h),y(e,{type:t,index:r(null),first:null,last:null,size:0}),f||(e.size=0),l(i)||u(i,e[c],{that:e,AS_ENTRIES:n})})),h=d.prototype,g=v(t),m=function(e,t,n){var r,i,s=g(e),a=E(e,t);return a?a.value=n:(s.last=a={index:i=p(t,!0),key:t,value:n,previous:r=s.last,next:null,removed:!1},s.first||(s.first=a),r&&(r.next=a),f?s.size++:e.size++,"F"!==i&&(s.index[i]=a)),e},E=function(e,t){var n,r=g(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return s(h,{clear:function(){for(var e=g(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=r(null),f?e.size=0:this.size=0},delete:function(e){var t=this,n=g(t),r=E(t,e);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first===r&&(n.first=i),n.last===r&&(n.last=s),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=g(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!E(this,e)}}),s(h,n?{get:function(e){var t=E(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&i(h,"size",{configurable:!0,get:function(){return g(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),s=v(r);c(e,t,(function(e,t){y(this,{type:r,target:e,state:i(e),kind:t,last:null})}),(function(){for(var e=s(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=null,d(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},6955:(e,t,n)=>{var r=n(2140),i=n(4901),s=n(2195),a=n(8227)("toStringTag"),o=Object,l="Arguments"===s(function(){return arguments}());e.exports=r?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=o(e),a))?n:l?s(t):"Object"===(r=s(t))&&i(t.callee)?"Arguments":r}},6969:(e,t,n)=>{var r=n(2777),i=n(757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},6980:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7015:(e,t,n)=>{var r=n(4576),i=n(9504);e.exports=function(e,t){return i(r[e].prototype[t])}},7040:(e,t,n)=>{var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(e,t,n)=>{var r=n(9504),i=n(9039),s=n(2195),a=Object,o=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===s(e)?o(e,""):a(e)}:a},7080:(e,t,n)=>{var r=n(4402).has;e.exports=function(e){return r(e),e}},7347:(e,t,n)=>{var r=n(3724),i=n(9565),s=n(8773),a=n(6980),o=n(5397),l=n(6969),u=n(9297),c=n(5917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=o(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(s.f,e,t),e[t])}},7476:(e,t,n)=>{var r=n(2195),i=n(9504);e.exports=function(e){if("Function"===r(e))return i(e)}},7629:(e,t,n)=>{var r=n(6395),i=n(4576),s=n(9433),a="__core-js_shared__",o=e.exports=i[a]||s(a,{});(o.versions||(o.versions=[])).push({version:"3.41.0",mode:r?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:(e,t,n)=>{var r=n(7751),i=n(2106),s=n(8227),a=n(3724),o=s("species");e.exports=function(e){var t=r(e);a&&t&&!t[o]&&i(t,o,{configurable:!0,get:function(){return this}})}},7657:(e,t,n)=>{var r,i,s,a=n(9039),o=n(4901),l=n(34),u=n(2360),c=n(2787),d=n(6840),h=n(8227),f=n(6395),p=h("iterator"),g=!1;[].keys&&("next"in(s=[].keys())?(i=c(c(s)))!==Object.prototype&&(r=i):g=!0),!l(r)||a((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=u(r)),o(r[p])||d(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},7680:(e,t,n)=>{var r=n(9504);e.exports=r([].slice)},7740:(e,t,n)=>{var r=n(9297),i=n(5031),s=n(7347),a=n(4913);e.exports=function(e,t,n){for(var o=i(t),l=a.f,u=s.f,c=0;c<o.length;c++){var d=o[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},7750:(e,t,n)=>{var r=n(4117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},7751:(e,t,n)=>{var r=n(4576),i=n(4901);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},7976:(e,t,n)=>{var r=n(8343);n(9225),e.exports=r},8004:(e,t,n)=>{var r=n(6518),i=n(9039),s=n(8750);r({target:"Set",proto:!0,real:!0,forced:!n(4916)("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:s})},8014:(e,t,n)=>{var r=n(1291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},8227:(e,t,n)=>{var r=n(4576),i=n(5745),s=n(9297),a=n(3392),o=n(4495),l=n(7040),u=r.Symbol,c=i("wks"),d=l?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return s(c,e)||(c[e]=o&&s(u,e)?u[e]:d("Symbol."+e)),c[e]}},8343:(e,t,n)=>{var r=n(9962);e.exports=r},8469:(e,t,n)=>{var r=n(9504),i=n(507),s=n(4402),a=s.Set,o=s.proto,l=r(o.forEach),u=r(o.keys),c=u(new a).next;e.exports=function(e,t,n){return n?i({iterator:u(e),next:c},t):l(e,t)}},8480:(e,t,n)=>{var r=n(1828),i=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},8551:(e,t,n)=>{var r=n(34),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(i(e)+" is not an object")}},8622:(e,t,n)=>{var r=n(4576),i=n(4901),s=r.WeakMap;e.exports=i(s)&&/native code/.test(String(s))},8686:(e,t,n)=>{var r=n(3724),i=n(9039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8727:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8750:(e,t,n)=>{var r=n(7080),i=n(4402),s=n(5170),a=n(3789),o=n(8469),l=n(507),u=i.Set,c=i.add,d=i.has;e.exports=function(e){var t=r(this),n=a(e),i=new u;return s(t)>n.size?l(n.getIterator(),(function(e){d(t,e)&&c(i,e)})):o(t,(function(e){n.includes(e)&&c(i,e)})),i}},8773:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8981:(e,t,n)=>{var r=n(7750),i=Object;e.exports=function(e){return i(r(e))}},9039:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9225:(e,t,n)=>{n(8004)},9297:(e,t,n)=>{var r=n(9504),i=n(8981),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},9306:(e,t,n)=>{var r=n(4901),i=n(6823),s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(i(e)+" is not a function")}},9433:(e,t,n)=>{var r=n(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9504:(e,t,n)=>{var r=n(616),i=Function.prototype,s=i.call,a=r&&i.bind.bind(s,s);e.exports=r?a:function(e){return function(){return s.apply(e,arguments)}}},9519:(e,t,n)=>{var r,i,s=n(4576),a=n(2839),o=s.process,l=s.Deno,u=o&&o.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},9539:(e,t,n)=>{var r=n(9565),i=n(8551),s=n(5966);e.exports=function(e,t,n){var a,o;i(e);try{if(!(a=s(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){o=!0,a=e}if("throw"===t)throw n;if(o)throw a;return i(a),n}},9565:(e,t,n)=>{var r=n(616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9617:(e,t,n)=>{var r=n(5397),i=n(5610),s=n(6198),a=function(e){return function(t,n,a){var o=r(t),l=s(o);if(0===l)return!e&&-1;var u,c=i(a,l);if(e&&n!=n){for(;l>c;)if((u=o[c++])!=u)return!0}else for(;l>c;c++)if((e||c in o)&&o[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9962:(e,t,n)=>{n(1415),n(8004);var r=n(7015);e.exports=r("Set","intersection")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Column:()=>D,ContextFormField:()=>T,DependencyGraph:()=>i,EffectManager:()=>a,Form:()=>j,FormChangesForRadioManager:()=>k,FormChangesForTriggerEffectsManager:()=>K,FormChangesManager:()=>I,FormField:()=>C,FormFieldArray:()=>F,FormFieldChangeSet:()=>x,FormFieldChangeType:()=>M,FormFieldChangesEvent:()=>V,FormFieldElementLinker:()=>A,FormFieldLinker:()=>L,FormFields:()=>O,FormType:()=>f,FormTypeBoolean:()=>E,FormTypeCheckbox:()=>S,FormTypeDate:()=>v,FormTypeElementStatus:()=>h,FormTypeFile:()=>p,FormTypeMonth:()=>m,FormTypeNumber:()=>y,FormTypeObject:()=>w,FormTypeRadio:()=>_,FormTypeSelect:()=>b,FormTypeText:()=>g,Table:()=>U,ValuedDependencyGraph:()=>s,deepEqual:()=>l,fileToJson:()=>u,getMetaDependencyKey:()=>d,isVisible:()=>o,jsonToFile:()=>c});class i{constructor(){this._keys=new Set,this._dependentMap=new Map,this._dependencyMap=new Map,this._addedDependencies=[],this._topologicalOrder=[]}getDependencies(){return this._addedDependencies}buildDependenciesMap(){this._dependentMap=new Map,this._dependencyMap=new Map,this._keys=new Set,this._topologicalOrder=[];const e=this.getDependencies();for(const[t,n]of e)this._keys.add(t),this._keys.add(n),this._dependentMap.has(t)||this._dependentMap.set(t,new Set),this._dependentMap.has(n)||this._dependentMap.set(n,new Set),this._dependencyMap.has(t)||this._dependencyMap.set(t,new Set),this._dependencyMap.has(n)||this._dependencyMap.set(n,new Set),this._dependentMap.get(t).add(n),this._dependencyMap.get(n).add(t);const t=new Map;for(const[e,n]of this._dependentMap)t.set(e,n.size);const n=[];for(const[e,r]of t)0===r&&n.push(e);for(;n.length>0;){const e=n.shift();this._topologicalOrder.push(e);for(const r of this._dependencyMap.get(e))t.set(r,t.get(r)-1),0===t.get(r)&&n.push(r)}if(this._topologicalOrder.length!==this._keys.size)throw new Error("There are cyclic dependencies")}addDependency(e,t){this._addedDependencies.push([e,t])}clone(){const e=new i;return e._addedDependencies=this._addedDependencies.slice(),e}get keys(){return this._keys}get topologicalOrder(){return this._topologicalOrder}get dependentMap(){return this._dependentMap}get dependencyMap(){return this._dependencyMap}}class s extends i{constructor(){super(),this._nodes=new Map}getDependencies(){const e=[];for(const[t,n]of this._nodes.entries())for(const r of n.dependsOn)e.push([t,r]);return super.getDependencies().concat(e)}clone(){const e=new s;return e._addedDependencies=[...this._addedDependencies],e._nodes=new Map(this._nodes),e}registerNode(e){this._nodes.set(e.key,e)}getNode(e){return this._nodes.get(e)}}n(7976);class a extends s{async triggerEffects(){let{keys:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const t of this.topologicalOrder){if(null!=e&&0===this.dependentMap.get(t).intersection(e).size)continue;const n=this.getNode(t);if(null!=n){const t=await n.value.callback();e&&t.forEach(e.add,e)}else e?.add(t)}}}function o(e){const t=getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(parseFloat(t.opacity)<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const n={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(n.x<0)return!1;if(n.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(n.y<0)return!1;if(n.y>(document.documentElement.clientHeight||window.innerHeight))return!1;let r=document.elementFromPoint(n.x,n.y);do{if(r===e)return!0}while(r=r?.parentNode);return!1}function l(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||null===e||null===t)return!1;const n=new Set(Object.keys(e)),r=new Set(Object.keys(t));if(n.size!==r.size)return!1;for(const r of n)if(!l(e[r],t[r]))return!1;return!0}async function u(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=function(){const n=r.result?.split(",")?.[1];n&&t({name:e.name,type:e.type,content:n})},r.readAsDataURL(e)}))}function c(e){const t=atob(e.content),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);const i=new Blob([r],{type:e.type});return new File([i],e.name,{type:e.type})}function d(e,t){return`${e}:${t}`}let h=function(e){return e.VALUE_SUCCESSFULLY_RECEIVED="value-successfully-received",e.VALUE_SET_SUCCESS="value-set-success",e.META_VALUE_SUCCESSFULLY_RECEIVED="meta-value-successfully-received",e.META_VALUE_SET_SUCCESS="meta-value-set-success",e.FAILED_TO_SET_VALUE="failed-to-set-value",e.FAILED_TO_SET_META_VALUE="failed-to-set-meta-value",e.INVALID_ELEMENT="invalid-element",e.TYPE_MISMATCH="type-mismatch",e.META_KEY_NOT_EXISTS="meta-key-not-exists",e}({});class f{static object(){return new w}static boolean(){return new E}static text(){return new g}static file(){let{multiple:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(new p).multiple(e)}static number(){return new y}static date(){return new v}static month(){return new m}static select(){let{multiple:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(new b).multiple(e)}static checkbox(){return new S}static radio(){return new _}static isFormElement(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement}static fromFormElement(e){switch(e.type){case"select-one":return this.select();case"select-multiple":return this.select().multiple();case"number":return this.number();case"text":return this.text();case"textarea":return this.text().area();case"checkbox":return this.checkbox();case"radio":return this.radio();case"date":return this.date();case"month":return this.month();case"file":return this.file({multiple:e.multiple});default:throw new Error(`As element type ${e} not has`)}}constructor(e){this.name=e}isEqual(e,t){return e===t}isEmpty(){}asElementType(){return"hidden"}fetch(){}getFieldValue(e){return e.getValue()}getFieldMetaValue(e,t){return e.getMetaValue(t)}setFieldValue(e,t){return e.setValue(t)}setFieldMetaValue(e,t,n){return e.setMetaValue(t,n)}getElementValue(e){return f.isFormElement(e)?e.type!==this.asElementType()?[null,h.TYPE_MISMATCH]:[e.value,h.VALUE_SUCCESSFULLY_RECEIVED]:[null,h.INVALID_ELEMENT]}setElementValue(e,t){return f.isFormElement(e)?e.type!==this.asElementType()?h.TYPE_MISMATCH:(e.value=t,h.VALUE_SET_SUCCESS):h.INVALID_ELEMENT}getElementMetaValue(e,t){return f.isFormElement(e)?e.type!==this.asElementType()?[void 0,h.TYPE_MISMATCH]:"disabled"===t?[e.disabled,h.META_VALUE_SUCCESSFULLY_RECEIVED]:[void 0,h.META_KEY_NOT_EXISTS]:[void 0,h.INVALID_ELEMENT]}setElementMetaValue(e,t,n){if(!f.isFormElement(e))return h.INVALID_ELEMENT;if(e.type!==this.asElementType())return h.TYPE_MISMATCH;if("disabled"===t)e.disabled=Boolean(n);else{if("autofill"!==t)return h.META_KEY_NOT_EXISTS;e.classList.toggle("autofill",Boolean(n))}return h.META_VALUE_SET_SUCCESS}getInitialValue(){return null}getInitialMeta(){const e=new Map;return e.set("disabled",{value:!1,resettable:!1}),e.set("dirty",{value:!1,resettable:!0}),e}isSameType(e){return this.name===e.name}}class p extends f{_multiple=!1;constructor(){super("File")}multiple(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._multiple=e,this}asElementType(){return"file"}getElementValue(e){return f.isFormElement(e)?e.type!==this.asElementType()?[void 0,h.TYPE_MISMATCH]:this._multiple?[e.files&&Array.from(e.files),h.VALUE_SUCCESSFULLY_RECEIVED]:[e.files&&e.files[0],h.VALUE_SUCCESSFULLY_RECEIVED]:[void 0,h.INVALID_ELEMENT]}setElementValue(e,t){if(!f.isFormElement(e))return h.INVALID_ELEMENT;if(e.type!==this.asElementType())return h.TYPE_MISMATCH;const n=new DataTransfer;if(this._multiple)for(const e of t)n.items.add(e);else n.items.add(t);return e.files=n.files,h.VALUE_SET_SUCCESS}}class g extends f{constructor(){super("String"),this._area=!1}area(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._area=e,this}asElementType(){return this._area?"textarea":"text"}}class y extends f{constructor(){super("Number")}asElementType(){return"number"}}class v extends f{constructor(){super("Date")}asElementType(){return"date"}isEqual(e,t){return e===t}}class m extends f{constructor(){super("Month")}asElementType(){return"month"}isEqual(e,t){return e===t}}class E extends f{constructor(){super("Boolean")}}class _ extends f{constructor(){super("Radio")}asElementType(){return"radio"}getInitialMeta(){const e=super.getInitialMeta();return e.set("checked",{value:!1,resettable:!0}),e}getFieldValue(e){return e.getMetaValue("checked")?e.getValue():null}setFieldValue(e,t){return e.setMetaValue("checked",null!=t&&e.getValue()===t)}getElementMetaValue(e,t){const[n,r]=super.getElementMetaValue(e,t);return r!==h.META_KEY_NOT_EXISTS?[n,r]:"checked"===t?[e.checked,h.META_VALUE_SUCCESSFULLY_RECEIVED]:[void 0,h.META_KEY_NOT_EXISTS]}setElementMetaValue(e,t,n){const r=super.setElementMetaValue(e,t,n);return r!==h.META_KEY_NOT_EXISTS?r:"checked"===t?(e.checked=Boolean(n),h.META_VALUE_SET_SUCCESS):h.META_KEY_NOT_EXISTS}}class S extends f{constructor(){super("Checkbox")}asElementType(){return"checkbox"}getInitialMeta(){const e=super.getInitialMeta();return e.set("checked",{value:!1,resettable:!0}),e}getFieldValue(e){const t=e.getValue();return["","on"].includes(t)?e.getMetaValue("checked"):e.getMetaValue("checked")?t:null}setFieldValue(e,t){return["","on"].includes(e.getValue())?e.setMetaValue("checked",t):e.setMetaValue("checked",null!=t&&e.getValue()===t)}getElementMetaValue(e,t){const[n,r]=super.getElementMetaValue(e,t);return r!==h.META_KEY_NOT_EXISTS?[n,r]:"checked"===t?[e.checked,h.META_VALUE_SUCCESSFULLY_RECEIVED]:[void 0,h.META_KEY_NOT_EXISTS]}setElementMetaValue(e,t,n){const r=super.setElementMetaValue(e,t,n);return r!==h.META_KEY_NOT_EXISTS?r:"checked"===t?(e.checked=Boolean(n),h.META_VALUE_SET_SUCCESS):h.META_KEY_NOT_EXISTS}}class b extends f{constructor(){super("select"),this._multiple=!1,this._of=f.text()}asElementType(){return this._multiple?"select-multiple":"select-one"}getInitialMeta(){const e=super.getInitialMeta();return e.set("options",{value:[],resettable:!1}),e}multiple(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._multiple=e,this}of(e){return this._of=e,this}getFieldValue(e){const t=e.getValue(),n=e.getMetaValue("options"),r=n.map((e=>e.value));return this._multiple?t.filter((e=>r.some((t=>t==e)))):r.some((e=>e==t))?t:n.find((e=>e.selected))?.value??n.find((e=>!e.disabled))?.value??null}getElementValue(e){return f.isFormElement(e)?e.type!==this.asElementType()?[void 0,h.TYPE_MISMATCH]:this._multiple?[Array.from(e.selectedOptions,(e=>e.value)),h.VALUE_SUCCESSFULLY_RECEIVED]:[e.value,h.VALUE_SUCCESSFULLY_RECEIVED]:[void 0,h.INVALID_ELEMENT]}getElementMetaValue(e,t){const[n,r]=super.getElementMetaValue(e,t);return r!==h.META_KEY_NOT_EXISTS?[n,r]:"options"===t?[Array.from(e.options,(e=>({value:e.value||e.textContent,disabled:e.disabled,selected:e.selected,textContent:e.textContent}))),h.META_VALUE_SUCCESSFULLY_RECEIVED]:[void 0,h.META_KEY_NOT_EXISTS]}setElementValue(e,t){return f.isFormElement(e)?e.type!==this.asElementType()?h.TYPE_MISMATCH:(Array.from(e.selectedOptions).forEach((e=>{e.selected=!1})),(this._multiple?t:[t]).map((t=>e.querySelector(`option[value="${t}"]`))).filter((e=>null!=e)).forEach((e=>{e.selected=!0})),h.VALUE_SET_SUCCESS):h.INVALID_ELEMENT}setElementMetaValue(e,t,n){const r=super.setElementMetaValue(e,t,n);if(r!==h.META_KEY_NOT_EXISTS)return r;if("options"===t){e.innerHTML="";for(const t of n){const n=document.createElement("option");n.value=t.value,n.selected=t.selected,n.disabled=t.disabled,n.textContent=t.textContent,e.options.add(n)}return h.META_VALUE_SET_SUCCESS}return h.META_KEY_NOT_EXISTS}}class w extends f{constructor(){super("Object")}isEqual(e,t){return l(e,t)}}let M=function(e){return e.Value="value",e.MetaValue="meta-value",e}({});class V extends Event{constructor(e){super("changes",{cancelable:!0}),this.changes=e}}class x{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this._changes=[],this._maxSize=e}trimProcessedChanges(){for(;this._changes.length>this._maxSize;){const e=this._changes.findIndex((e=>e.processed));if(-1===e)break;this._changes.splice(e,1)}}add(e){let t=null;e.type===M.Value?t=this.getFieldChange(e.field,{type:M.Value}):e.type===M.MetaValue&&(t=this.getFieldChange(e.field,{type:M.MetaValue,metaKey:e.metaKey})),null!=t&&(t.last=!1),this._changes.push(e),this.trimProcessedChanges()}remove(e){this._changes.splice(this._changes.indexOf(e),1)}getFieldChange(e){let{onlyCurrentState:t=!0,last:n=!0,processed:r=!1,type:i=null,metaKey:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getFieldChanges(e,{onlyCurrentState:t,last:n,processed:r,type:i});return i===M.MetaValue&&null!=s&&(a=a.filter((e=>e.metaKey===s))),a.at(-1)}getFieldChanges(e){let{onlyCurrentState:t=!0,last:n=!0,processed:r=!1,type:i=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this._changes.filter((t=>t.field===e));return null!=i&&(s=s.filter((e=>e.type===i))),null!=n&&(s=s.filter((e=>e.last===n))),null!=r&&(s=s.filter((e=>e.processed===r))),t&&(s=s.filter((t=>t.stateKey===e.currentStateKey))),s}hasChanges(e){return 0!==this.getFieldChanges(e,{onlyCurrentState:!0,last:!0}).length}markProcessed(e){e.forEach((e=>{e.processed=!0})),this.trimProcessedChanges()}static asChangedName(e){return e.type===M.Value?e.field.name:e.type===M.MetaValue?d(e.field.name,e.metaKey):null}static asChangedNames(e){const t=new Set;for(const n of e){const e=this.asChangedName(n);null!=e&&t.add(e)}return t}processChanges(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.getFieldChanges(e,{onlyCurrentState:!0,type:t});return n||(this.markProcessed(this.getFieldChanges(e,{onlyCurrentState:!0,last:null,type:t})),e.dispatchEvent(new V(r))),x.asChangedNames(r)}}class C extends EventTarget{constructor(e,t){let{changeSet:n=null,effectManager:r=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this._name=e,this._type=t,this._initializedStateKeys=new Set,this._initialValue=this.type.getInitialValue(),this._valueMap=new Map,this._initialMeta=this.type.getInitialMeta(),this._metaMap=new Map,this._changeSet=n??new x(32),this._currentStateKey="default",this.initializeState({stateKey:"default"}),null!=r&&this.initializeDependencies(r)}get self(){return this}get currentStateKey(){return this._currentStateKey}get context(){return{disabledIsNull:!0,initiator:null,stateKey:null,raw:!1,processChanges:!1}}get changeSet(){return this._changeSet}get name(){return this._name}get type(){return this._type}clearInitialMeta(){this._initialMeta=new Map}reset(){let{stateKey:e=null,initiator:t=null,processChanges:n=!1,full:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e??=this._currentStateKey,console.log("[FormField.reset] Reset state `%s` for field `%s`",e,this.name),r&&this._metaMap.set(e,new Map);for(const[n,i]of this._initialMeta.entries())(r||i.resettable)&&this.setMetaValue(n,i.value,{raw:!0,stateKey:e,initiator:t});return this.setValue(this._initialValue,{raw:!0,stateKey:e,initiator:t}),this.processChanges(null,!n)}initializeState(e){let{stateKey:t,initiator:n=null}=e;this._initializedStateKeys.has(t)||(console.log("[FormField.initializeState] Initializing state key `%s` for field `%s`",t,this.name),this._initializedStateKeys.add(t),this.reset({stateKey:t,initiator:n,processChanges:!0,full:!0}))}switchState(e){let{stateKey:t,initiator:n=null,processChanges:r=!1}=e;console.log("[FormField.switchState] Switching state for field `%s` from `%s` to `%s`",this.name,this._currentStateKey,t),this.initializeState({stateKey:t,initiator:n});for(const[e,r]of this._metaMap.get(t).entries()){const i=this._metaMap.get(this._currentStateKey).get(e);if(!l(i,r)){console.log("[FormField.switchState] Field meta value %s has change between stages",d(this.name,e));const s={stateKey:t,type:M.MetaValue,field:this,initiator:n,metaKey:e,oldValue:i,newValue:r,date:new Date,last:!0,processed:!1};this.changeSet.add(s)}}const i=this._valueMap.get(this._currentStateKey),s=this._valueMap.get(t);if(!this.type.isEqual(i,s)){console.log("[FormField.switchState] Field value %s has change between stages",this.name);const e={stateKey:t,type:M.Value,field:this,initiator:n,oldValue:i,newValue:s,date:new Date,last:!0,processed:!1};this.changeSet.add(e)}return this._currentStateKey=t,this.processChanges(null,!r)}initializeDependencies(e){switch(e.addDependency(this.name,d(this.name,"disabled")),this.type.asElementType()){case"checkbox":case"radio":e.addDependency(this.name,d(this.name,"checked"))}}getAdapter(e){return new Proxy(this,{get(t,n,r){switch(n){case"self":return t;case"context":return e;case"getAdapter":return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getAdapter({...e,...n})};case"getValue":return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getValue({...e,...n})};case"getMetaValue":return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.getMetaValue(n,{...e,...r})};case"setValue":return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.setValue(n,{...e,...r})};case"setMetaValue":return function(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.setMetaValue(n,r,{...e,...i})};default:const i=Reflect.get(t,n,r);return"function"==typeof i?i.bind(t):i}}})}getValue(){let{stateKey:e=null,raw:t=!1,disabledIsNull:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t?(e??=this._currentStateKey,this.initializeState({stateKey:e}),this._valueMap.get(e)):n&&this.getMetaValue("disabled",{stateKey:e})?null:this.type.getFieldValue(this.getAdapter({stateKey:e,raw:!0}))}setInitialValue(e){this._initialValue=e}setValue(e){let{stateKey:t=null,raw:n=!1,initiator:r=null,processChanges:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n)return this.type.setFieldValue(this.getAdapter({stateKey:t,raw:!0,processChanges:i,initiator:r}),e);r??=this,t??=this._currentStateKey,this.initializeState({stateKey:t,initiator:r});const s=this.getValue({stateKey:t,raw:!0});if(this.type.isEqual(s,e))return new Set;this._valueMap.set(t,e);const a={stateKey:t,type:M.Value,field:this,initiator:r,oldValue:s,newValue:e,date:new Date,last:!0,processed:!1};return console.log("[FormField.setValue] Value changed:",{oldValue:s,newValue:e,stateKey:t}),this.changeSet.add(a),this.processChanges(M.Value,!i)}getMetaValue(e){let{stateKey:t=null,raw:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n?(t??=this._currentStateKey,this.initializeState({stateKey:t}),this._metaMap.get(t).get(e)):this.type.getFieldMetaValue(this.getAdapter({raw:!0,stateKey:t}),e)}setInitialMetaValue(e,t){let{resettable:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._initialMeta.set(e,{value:t,resettable:n})}setMetaValue(e,t){let{stateKey:n=null,initiator:r=null,processChanges:i=!1,raw:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!s)return this.type.setFieldMetaValue(this.getAdapter({stateKey:n,raw:!0,initiator:r,processChanges:i}),e,t);r??=this,n??=this._currentStateKey,this.initializeState({stateKey:n,initiator:r});const a=this.getMetaValue(e,{stateKey:n});if(a===t)return new Set;this._metaMap.get(n).set(e,t);const o={stateKey:n,type:M.MetaValue,field:this,initiator:r,metaKey:e,oldValue:a,newValue:t,date:new Date,last:!0,processed:!1};return this.changeSet.add(o),console.log("[FormField.setMetaValue] Meta",d(this.name,e),"value changed:",{oldValue:a,newValue:t,stateKey:n}),this.processChanges(M.MetaValue,!i)}processChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.changeSet.processChanges(this,e,t)}}class T{constructor(e,t){this.field=e,this.context=t}}class F{constructor(e){this.fieldArray=e}getAdapter(e){return new Proxy(this,{get(t,n,r){switch(n){case"self":return t;case"context":return e;case"getAdapter":return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getAdapter({...e,...n})};case"getValue":return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getValue({...e,...n})};case"getMetaValue":return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.getMetaValue(n,{...e,...r})};case"setValue":return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.setValue(n,{...e,...r})};case"setMetaValue":return function(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.setMetaValue(n,r,{...e,...i})};default:const i=Reflect.get(t,n,r);return"function"==typeof i?i.bind(t):i}}})}getValue(){let{stateKey:e=null,disabledIsNull:t=!0,raw:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fieldArray.map((r=>r.getValue({stateKey:e,disabledIsNull:t,raw:n}))).find((e=>null!=e))}getMetaValue(e){let{stateKey:t=null,raw:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fieldArray.map((r=>r.getMetaValue(e,{stateKey:t,raw:n}))).find((e=>null!=e))}setValue(e){let{stateKey:t=null,initiator:n=null,processChanges:r=!1,raw:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fieldArray.map((s=>s.setValue(e,{stateKey:t,initiator:n,processChanges:r,raw:i}))).find((e=>0!==e.size))??new Set}setMetaValue(e,t){let{stateKey:n=null,initiator:r=null,processChanges:i=!1,raw:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fieldArray.map((a=>a.setMetaValue(e,t,{stateKey:n,initiator:r,processChanges:i,raw:s}))).find((e=>0!==e.size))??new Set}processChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.fieldArray.map((n=>n.processChanges(e,t))).find((e=>0!==e.size))??new Set}}class L{constructor(e){this.field=e,this.type=e.type}}class A extends L{constructor(e,t){if(super(e),this.element=t,this.type.asElementType()!==this.element.type)throw new Error("For link type is equal");this._fieldChangesEventListener=this._fieldChangesEventListener.bind(this),this._elementValueInputEventListener=this._elementValueInputEventListener.bind(this),this._elementValueChangeEventListener=this._elementValueChangeEventListener.bind(this),this._handleHideContainer=null}link(){this.field.setInitialValue(this._getElementValue()),this.field.setInitialMetaValue("disabled",this._getElementMetaValue("disabled"),{resettable:!1}),this.field.setInitialMetaValue("container",this.element.parentElement,{resettable:!1}),["radio","checkbox"].includes(this.type.asElementType())&&this.field.setInitialMetaValue("checked",this._getElementMetaValue("checked")),["select-one","select-multiple"].includes(this.type.asElementType())&&this.field.setInitialMetaValue("options",this._getElementMetaValue("options"),{resettable:!1}),this.field.reset({processChanges:!0,initiator:this,full:!0}),this.field.addEventListener("changes",this._fieldChangesEventListener),["text","number","textarea"].includes(this.type.asElementType())?this.element.addEventListener("input",this._elementValueInputEventListener):this.element.addEventListener("change",this._elementValueChangeEventListener)}unlink(){this.field.removeEventListener("changes",this._fieldChangesEventListener),["text","number","textarea"].includes(this.type.asElementType())?this.element.removeEventListener("input",this._elementValueInputEventListener):this.element.removeEventListener("change",this._elementValueChangeEventListener)}_elementValueInputEventListener(e){console.log("[FormFieldElementLinker._elementValueInputEventListener] Event"),this.field.setMetaValue("dirty",!0,{initiator:this,processChanges:!0}),this._syncFieldValue()}_elementValueChangeEventListener(e){this.field.setMetaValue("dirty",!0,{initiator:this,processChanges:!0}),["radio","checkbox"].includes(this.type.asElementType())?this._syncFieldMetaValue("checked"):this._syncFieldValue()}_fieldChangesEventListener(e){const t=e.changes.filter((e=>e.initiator!==this));for(const e of t)e.type===M.Value?this._syncElementValue():e.type===M.MetaValue&&this._syncElementMetaValue(e.metaKey)}_syncElementValue(){console.log("[FormFieldElementLinker._syncElementValue] Syncing element value");const e=this.field.getValue({raw:!0}),t=this.type.setElementValue(this.element,e);t===h.VALUE_SET_SUCCESS||console.log("[FormFieldElementLinker._syncElementMetaValue] Failed to set element value, status `%s`",t)}_getElementValue(){const[e,t]=this.type.getElementValue(this.element);return t!==h.VALUE_SUCCESSFULLY_RECEIVED&&console.warn("[FormFieldElementLinker._getElementValue] Failed to get value from element, status `%s`",t),e}_syncFieldValue(){console.log("[FormFieldElementLinker._syncFieldValue] Syncing field value"),this.field.setValue(this._getElementValue(),{initiator:this,processChanges:!0,raw:!0})}_syncElementMetaValue(e){console.log("[FormFieldElementLinker._syncElementMetaValue] Syncing element meta value");const t=this.field.getMetaValue(e,{raw:!0}),n=this.type.setElementMetaValue(this.element,e,t);if(n!==h.META_VALUE_SET_SUCCESS)if(n!==h.META_KEY_NOT_EXISTS)console.log("[FormFieldElementLinker._syncElementMetaValue] Failed to set element meta value, status `%s`",n);else switch(e){case"visible":const e=this.field.getMetaValue("container");null!=this._handleHideContainer&&(e.removeEventListener("transitionend",this._handleHideContainer),this._handleHideContainer=null),t?"none"===e.style.display?(e.style.display="",requestAnimationFrame((()=>{e.dataset.visible="true"}))):e.dataset.visible="true":(o(e)?"none"!==e.style.display&&(this._handleHideContainer=t=>{e.style.display="none"},e.addEventListener("transitionend",this._handleHideContainer,{once:!0})):e.style.display="none",e.dataset.visible="false");break;case"options":0!==t.length&&this._syncElementValue()}else"options"===e&&0!==t.length&&this._syncElementValue()}_getElementMetaValue(e){const[t,n]=this.type.getElementMetaValue(this.element,e);return n!==h.META_VALUE_SUCCESSFULLY_RECEIVED&&console.warn("[FormFieldElementLinker._getElementMetaValue] Failed to get value from element, status `%s`",n),t}_syncFieldMetaValue(e){console.log("[FormFieldElementLinker._syncFieldMeta] Syncing field meta value"),this.field.setMetaValue(e,this._getElementMetaValue(e),{initiator:this,processChanges:!0})}}class O extends EventTarget{constructor(){super(),this.list=[],this._fieldChangesEventListener=this._fieldChangesEventListener.bind(this)}_fieldChangesEventListener(e){this.dispatchEvent(new V(e.changes))}add(e){return e=e.self,!this.list.includes(e)&&(e.addEventListener("changes",this._fieldChangesEventListener),this.list.push(e),!0)}remove(e){return e=e.self,!!this.list.includes(e)&&(e.removeEventListener("changes",this._fieldChangesEventListener),this.list.splice(this.list.indexOf(e),1),!0)}get(e){const t=this.list.filter((t=>t.name===e));return 1===t.length?t[0]:new F(t)}[Symbol.iterator](){return new Set(this.list.map((e=>e.name))).values()}}class I{}class k extends I{manage(e,t){t.filter((t=>t.initiator!==e&&"radio"===t.field.type.asElementType()&&t.type===M.MetaValue&&"checked"===t.metaKey&&t.newValue)).forEach((t=>{e.fields.list.filter((e=>e.name===t.field.name&&"radio"===e.type.asElementType()&&e!=t.field&&e.getMetaValue("checked"))).forEach((t=>{t.setMetaValue("checked",!1,{initiator:e,processChanges:!0})}))}))}}class K extends I{manage(e,t){0!==(t=t.filter((t=>t.initiator!==e))).length&&e.effectManager.triggerEffects({keys:x.asChangedNames(t)})}}class j extends EventTarget{constructor(e){let{form:t,focusActions:n}=e;super(),this.form=t,this.changeSet=new x,this.effectManager=new a,this.fields=new O,this.fieldLinkers=[],this.focusActions=n??[],this._changesManagers=[],this._handleChanges=this._handleChanges.bind(this)}async setup(){null!=this.form&&(this.form.classList.add("ss-form"),this.form.addEventListener("submit",(e=>{e.preventDefault(),this.submit()})),this.form.addEventListener("reset",(e=>{e.preventDefault(),this.reset()})),this.fields.addEventListener("changes",this._handleChanges),this.registerChangesManager(new k),this.registerChangesManager(new K),this.registerElements())}async focus(){for(const e of this.focusActions)switch(e.type){case"click":e.element.click();break;case"callback":e.callback()}}_handleChanges(e){const t=e.changes;for(const e of this._changesManagers)e.manage(this,t)}switchState(e){for(const t of this.fields.list)t.switchState({stateKey:e,initiator:this,processChanges:!0});this.effectManager.triggerEffects()}registerChangesManager(e){this._changesManagers.push(e)}getFormData(){const e={};for(const t of this.fields)e[t]=this.fields.get(t).getValue();return e}updateFormData(e){for(const t of this.fields)t in e&&this.fields.get(t).setValue(e[t],{initiator:this,processChanges:!0});this.effectManager.triggerEffects()}registerElements(){for(const e of this.form.elements){if(!f.isFormElement(e))continue;if(""===e.name)continue;const t=new C(e.name,f.fromFormElement(e),{changeSet:this.changeSet,effectManager:this.effectManager}),n=new A(t,e);n.link(),this.fieldLinkers.push(n),this.fields.add(t)}}getElement(e){return this.form.elements.namedItem(e)}async submit(){}reset(){for(const e of this.fields.list)e.reset({initiator:this,processChanges:!0});this.effectManager.triggerEffects()}addField(e,t){this.fields.add(new C(e,t,{changeSet:this.changeSet,effectManager:this.effectManager}))}addDisableWhenEffect(e,t,n){this.effectManager.registerNode({key:d(e,"disabled"),value:{type:"disable-when",callback:async()=>{const n=await t();return this.fields.get(e).getAdapter({initiator:this}).setMetaValue("disabled",n,{processChanges:!0})}},dependsOn:n})}addVisibleWhenEffect(e,t,n){this.addDisableWhenEffect(e,(async()=>!await t()),n),this.effectManager.registerNode({key:d(e,"visible"),value:{type:"visible-when",callback:async()=>{const n=await t();return this.fields.get(e).getAdapter({initiator:this}).setMetaValue("visible",n,{processChanges:!0})}},dependsOn:[d(e,"disabled")]})}addComputedFieldEffect(e,t,n,r){this.addField(e,t),this.effectManager.registerNode({key:e,value:{type:"computed-field",callback:async()=>{const t=await n();return this.fields.get(e).setValue(t,{initiator:this,processChanges:!0})}},dependsOn:r})}addFieldAutofillEffect(e,t,n){this.effectManager.addDependency(e,d(e,"autofill")),this.effectManager.registerNode({key:d(e,"autofill"),value:{type:"field-autofill",callback:async()=>{const n=this.fields.get(e).getAdapter({initiator:this}),r=n.getMetaValue("dirty");if(n.setMetaValue("autofill",!r),r)return n.processChanges();const i=await t();return n.setMetaValue("autofill",0!==n.setValue(i).size),n.processChanges()}},dependsOn:[d(e,"dirty"),...n]})}addSelectOptionsInitializerEffect(e,t,n,r){this.effectManager.addDependency(d(e,"disabled"),d(e,"options")),this.effectManager.registerNode({key:d(e,"options"),value:{type:"select-options-initializer",callback:async()=>{const r=await t(),i=await n(),s=this.fields.get(e).getAdapter({initiator:this}),a=s.getValue({disabledIsNull:!1,raw:!0});return s.setValue(a),s.setMetaValue("disabled",0===i.length),s.setMetaValue("options",[r,...i]),s.processChanges()}},dependsOn:r})}}class D{}class U{constructor(e){let{container:t,columnDefinitions:n}=e;this.container=t,this.columnDefinitions=n,this.render()}async render(){const e=document.createElement("div");e.innerHTML='\n            <div class="ss-table">\n                <div class="ss-table-head">\n                    <div class="ss-table-row">\n                        <div class="ss-table-header-columns-pinned-left">\n                        </div>\n                        <div class="ss-table-header-columns">\n                            \n                        </div>\n                        <div class="ss-table-header-columns-pinned-right">\n                        </div>\n                    </div>\n                </div>\n                <div class="ss-table-body">\n                    <div class="ss-table-body-row-columns-pinned-left">\n                        \n                    </div>\n                    <div class="ss-table-body-rows">\n                        <div class="ss-table-body-row">\n                            <div class="ss-table-body-cell">\n                            </div>\n                        </div>\n                    </div>\n                    <div class="ss-table-body-row-columns-pinned-right">\n                    </div>\n                </div>\n                <div class="ss-table-footer">\n                    <div class="ss-table-footer-row-columns-pinned-left">\n                    </div>\n                    <div class="ss-table-footer-rows">\n                        <div class="ss-table-footer-row">\n                        </div>\n                    </div>\n                    <div class="ss-table-footer-row-columns-pinned-left">\n                    </div>\n                </div>\n            </div>\n        ';const t=e.querySelector(".ss-table-header-columns");for(const e of this.columnDefinitions){const n=document.createElement("div");n.classList.add("ss-table-cell"),n.classList.add("ss-table-header-column"),n.textContent=e.title,t.append(n)}this.container.innerHTML="",this.container.append(e)}}window.SmartSystem=r})();
//# sourceMappingURL=smart-system.bundle.min.js.map